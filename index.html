<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Updated Title -->
    <title>Surah Super Bubble</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap');
        body {
            margin: 0;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #e0f2fe; /* Light blue background */
            font-family: 'Inter', sans-serif;
            color: #1a237e;
        }
        canvas {
            display: block;
            background-color: #ffffff;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }
        #game-container {
            position: relative;
        }
        #message-box {
            position: absolute;
            /* FIX: Moved from 55% to 60% to push the message box lower on the screen, preventing clipping on small devices. */
            top: 60%; 
            left: 50%;
            transform: translate(-50%, -50%);
            /* FIX: Changed background to a soft, opaque light blue to remove the stark white appearance */
            background-color: #f0f8ff; /* Very soft light blue */
            /* Adjusted padding for better fit on small screens */
            padding: 1.5rem 2rem;
            border-radius: 15px;
            /* FIX: Softened box shadow to reduce the 'hard border' look */
            box-shadow: 0 3px 15px rgba(0, 0, 0, 0.1); 
            text-align: center;
            z-index: 100;
            display: flex;
            flex-direction: column;
            align-items: center;
            white-space: pre-line;
            /* Added responsive styling for better fit on small screens */
            width: 85%; /* Slightly wider */
            max-width: 450px; /* Slightly smaller maximum width */
        }
        #message-box h2 {
            /* Adjusted font size for better fit on all screens */
            font-size: 1.75rem; 
            margin: 0 0 0.75rem 0;
            color: #1a237e;
        }
        #message-box p {
            /* Adjusted font size for better fit */
            font-size: 1rem; 
            color: #4a4a4a;
        }
        .btn-container {
            display: flex;
            /* CHANGE: Stack buttons vertically */
            flex-direction: column; 
            align-items: center;
            gap: 0.75rem; /* Reduced gap */
            margin-top: 1rem; /* Reduced margin */
            width: 100%; /* Ensure container uses full message box width */
        }
        .btn {
            padding: 0.75rem 0.5rem; /* Reduced horizontal padding for smaller buttons */
            border: none;
            border-radius: 50px;
            background-color: #64b5f6;
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            transition: transform 0.2s, box-shadow 0.2s;
            /* CHANGE: Use full width of container, limited by max-width */
            width: 100%; 
            max-width: 300px; /* Wider max-width for stacked look */
            text-align: center; /* Ensure button text is centered */
        }
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 6px 6px 20px rgba(0, 0, 0, 0.15);
        }

        #pause-btn {
            position: absolute;
            top: 20px;
            left: 20px;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background-color: rgba(255, 255, 255, 0.8);
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            transition: transform 0.2s;
            z-index: 50;
        }

        #pause-btn:hover {
            transform: scale(1.05);
        }

        #pause-btn svg {
            fill: #1a237e;
            width: 24px;
            height: 24px;
        }
    </style>
</head>
<body>
    <div id="game-container">
        <canvas id="gameCanvas"></canvas>
        <button id="pause-btn" style="display:none;">
            <svg viewBox="0 0 24 24">
                <path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/>
            </svg>
        </button>
        <div id="message-box">
            <!-- Updated Game Name -->
            <h2 id="message-title">Welcome to Surah Super Bubble!</h2>
            <p id="message-content">Your goal is to click on the number that corresponds to the Surah's order in the Quran. Select a level to begin.</p>
            <div class="btn-container">
                <!-- Buttons are now dynamically generated by JavaScript -->
            </div>
        </div>
    </div>

    <script>
        window.onload = function() {
            // Get the canvas and its context
            const canvas = document.getElementById('gameCanvas');
            const ctx = canvas.getContext('2d');
            const messageBox = document.getElementById('message-box');
            const messageTitle = document.getElementById('message-title');
            const messageContent = document.getElementById('message-content');
            const btnContainer = document.querySelector('.btn-container');
            const pauseBtn = document.getElementById('pause-btn');

            // Define game constants and variables
            const surahsLevel1 = [
                { name: "Al-Fatiha", number: 1 },
                { name: "Al-Baqarah", number: 2 },
                { name: "Ali-Imran", number: 3 },
                { name: "An-Nisa", number: 4 },
                { name: "Al-Ma'idah", number: 5 },
                { name: "Al-An'am", number: 6 },
                { name: "Al-A'raf", number: 7 },
                { name: "Al-Anfal", number: 8 },
                { name: "At-Tawbah", number: 9 },
                { name: "Yunus", number: 10 }
            ];
            
            const surahsLevel2 = [
                { name: "Hud", number: 11 },
                { name: "Yusuf", number: 12 },
                { name: "Ar-Ra'd", number: 13 },
                { name: "Ibrahim", number: 14 },
                { name: "Al-Hijr", number: 15 },
                { name: "An-Nahl", number: 16 },
                { name: "Al-Isra", number: 17 },
                { name: "Al-Kahf", number: 18 },
                { name: "Maryam", number: 19 },
                { name: "Ta-Ha", number: 20 }
            ];

            const surahsLevel3 = [
                { name: "Al-Anbiya", number: 21 },
                { name: "Al-Hajj", number: 22 },
                { name: "Al-Mu'minun", number: 23 },
                { name: "An-Nur", number: 24 },
                { name: "Al-Furqan", number: 25 },
                { name: "Ash-Shu'ara", number: 26 },
                { name: "An-Naml", number: 27 },
                { name: "Al-Qasas", number: 28 },
                { name: "Al-'Ankabut", number: 29 },
                { name: "Ar-Rum", number: 30 }
            ];

            const surahsLevel4 = [
                { name: "Luqman", number: 31 },
                { name: "As-Sajdah", number: 32 },
                { name: "Al-Ahzab", number: 33 },
                { name: "Saba", number: 34 },
                { name: "Fatir", number: 35 },
                { name: "Ya-Sin", number: 36 },
                { name: "As-Saffat", number: 37 },
                { name: "Sad", number: 38 },
                { name: "Az-Zumar", number: 39 },
                { name: "Ghafir", number: 40 }
            ];

            const surahsLevel5 = [
                { name: "Fussilat", number: 41 },
                { name: "Ash-Shura", number: 42 },
                { name: "Az-Zukhruf", number: 43 },
                { name: "Ad-Dukhan", number: 44 },
                { name: "Al-Jathiyah", number: 45 },
                { name: "Al-Ahqaf", number: 46 },
                { name: "Muhammad", number: 47 },
                { name: "Al-Fath", number: 48 },
                { name: "Al-Hujurat", number: 49 },
                { name: "Qaf", number: 50 }
            ];
            
            const surahsLevel6 = [
                { name: "Adh-Dhariyat", number: 51 },
                { name: "At-Tur", number: 52 },
                { name: "An-Najm", number: 53 },
                { name: "Al-Qamar", number: 54 },
                { name: "Ar-Rahman", number: 55 },
                { name: "Al-Waqi'ah", number: 56 },
                { name: "Al-Hadid", number: 57 },
                { name: "Al-Mujadila", number: 58 },
                { name: "Al-Hashr", number: 59 },
                { name: "Al-Mumtahanah", number: 60 }
            ];

            // --- NEW LEVELS ADDED (7, 8, 9, 10) ---
            const surahsLevel7 = [
                { name: "As-Saff", number: 61 },
                { name: "Al-Jumu'ah", number: 62 },
                { name: "Al-Munafiqun", number: 63 },
                { name: "At-Taghabun", number: 64 },
                { name: "At-Talaq", number: 65 },
                { name: "At-Tahrim", number: 66 },
                { name: "Al-Mulk", number: 67 },
                { name: "Al-Qalam", number: 68 },
                { name: "Al-Haqqah", number: 69 },
                { name: "Al-Ma'arij", number: 70 }
            ];

            const surahsLevel8 = [
                { name: "Nuh", number: 71 },
                { name: "Al-Jinn", number: 72 },
                { name: "Al-Muzzammil", number: 73 },
                { name: "Al-Muddaththir", number: 74 },
                { name: "Al-Qiyamah", number: 75 },
                { name: "Al-Insan", number: 76 },
                { name: "Al-Mursalat", number: 77 },
                { name: "An-Naba", number: 78 },
                { name: "An-Nazi'at", number: 79 },
                { name: "'Abasa", number: 80 }
            ];

            const surahsLevel9 = [
                { name: "At-Takwir", number: 81 },
                { name: "Al-Infitar", number: 82 },
                { name: "Al-Mutaffifin", number: 83 },
                { name: "Al-Inshiqaq", number: 84 },
                { name: "Al-Buruj", number: 85 },
                { name: "At-Tariq", number: 86 },
                { name: "Al-A'la", number: 87 },
                { name: "Al-Ghashiyah", number: 88 },
                { name: "Al-Fajr", number: 89 },
                { name: "Al-Balad", number: 90 }
            ];

            // Level 10 covers the remaining 24 Surahs (91-114)
            const surahsLevel10 = [
                { name: "Ash-Shams", number: 91 },
                { name: "Al-Layl", number: 92 },
                { name: "Ad-Duha", number: 93 },
                { name: "Ash-Sharh", number: 94 },
                { name: "At-Tin", number: 95 },
                { name: "Al-'Alaq", number: 96 },
                { name: "Al-Qadr", number: 97 },
                { name: "Al-Bayyinah", number: 98 },
                { name: "Az-Zilzal", number: 99 },
                { name: "Al-'Adiyat", number: 100 },
                { name: "Al-Qari'ah", number: 101 },
                { name: "At-Takathur", number: 102 },
                { name: "Al-'Asr", number: 103 },
                { name: "Al-Humazah", number: 104 },
                { name: "Al-Fil", number: 105 },
                { name: "Quraish", number: 106 },
                { name: "Al-Ma'un", number: 107 },
                { name: "Al-Kauthar", number: 108 },
                { name: "Al-Kafirun", number: 109 },
                { name: "An-Nasr", number: 110 },
                { name: "Al-Masad", number: 111 },
                { name: "Al-Ikhlas", number: 112 },
                { name: "Al-Falaq", number: 113 },
                { name: "An-Nas", number: 114 }
            ];
            // ------------------------
            
            const allSurahLevels = [
                surahsLevel1, surahsLevel2, surahsLevel3, surahsLevel4, 
                surahsLevel5, surahsLevel6, surahsLevel7, surahsLevel8, 
                surahsLevel9, surahsLevel10 // All 10 levels included
            ];
            
            let bubbles = [];
            let particles = [];
            let currentLevelIndex = 0; // Use an index to track progress within a surah set
            let currentSurah = {};
            let isPaused = true;
            let audioContext;
            let gameAnimationFrameId = null;
            let currentSurahSet = [];

            // Define Bubble class for number objects
            class Bubble {
                constructor(x, y, radius, number, color) {
                    this.x = x;
                    this.y = y;
                    this.radius = radius;
                    this.number = number;
                    this.color = color;
                    this.vx = (Math.random() - 0.5) * 1.5; // Reduced speed for easier gameplay
                    this.vy = (Math.random() - 0.5) * 1.5; // Reduced speed for easier gameplay
                }

                draw() {
                    ctx.beginPath();
                    ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
                    ctx.fillStyle = this.color;
                    ctx.shadowColor = 'rgba(0, 0, 0, 0.15)';
                    ctx.shadowBlur = 10;
                    ctx.fill();
                    ctx.closePath();
                    ctx.shadowBlur = 0;

                    ctx.fillStyle = '#fff';
                    ctx.font = `bold ${this.radius * 0.7}px 'Inter', sans-serif`;
                    ctx.textAlign = 'center';
                    ctx.textBaseline = 'middle';
                    ctx.fillText(this.number, this.x, this.y);
                }

                update() {
                    this.x += this.vx;
                    this.y += this.vy;

                    if (this.x + this.radius > canvas.width || this.x - this.radius < 0) {
                        this.vx *= -1;
                    }
                    if (this.y + this.radius > canvas.height || this.y - this.radius < 0) {
                        this.vy *= -1;
                    }
                }
            }
            
            // New class for the magical particles
            class Particle {
                constructor(x, y) {
                    this.x = x;
                    this.y = y;
                    this.radius = Math.random() * 2 + 1;
                    this.alpha = 1;
                    this.vx = (Math.random() - 0.5) * (Math.random() * 5 + 1);
                    this.vy = (Math.random() - 0.5) * (Math.random() * 5 + 1);
                    this.color = `hsl(${Math.random() * 360}, 70%, 70%)`;
                }

                draw() {
                    ctx.globalAlpha = this.alpha;
                    ctx.beginPath();
                    ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
                    ctx.fillStyle = this.color;
                    ctx.fill();
                    ctx.closePath();
                    ctx.globalAlpha = 1; // Reset alpha
                }

                update() {
                    this.x += this.vx;
                    this.y += this.vy;
                    this.alpha -= 0.02; // Fade out over time
                }
            }

            // Function to show a message box
            function showMessage(title, content, buttonConfig) {
                isPaused = true;
                messageTitle.textContent = title;
                messageContent.textContent = content;

                // Hide the pause button when a message box is shown
                pauseBtn.style.display = 'none';

                // Clear existing buttons
                btnContainer.innerHTML = '';
                
                // Create buttons based on the config array
                buttonConfig.forEach(config => {
                    const btn = document.createElement('button');
                    btn.className = 'btn';
                    btn.textContent = config.text;
                    btn.onclick = config.action;
                    btnContainer.appendChild(btn);
                });

                messageBox.style.display = 'flex';
                if (gameAnimationFrameId) {
                    cancelAnimationFrame(gameAnimationFrameId);
                }
            }

            // Function to hide the message box
            function hideMessage() {
                isPaused = false;
                messageBox.style.display = 'none';
                pauseBtn.style.display = 'flex'; // Show the pause button when the game is not paused
                gameLoop();
            }

            // Function to generate a simple "pop" sound
            function createPopSound() {
                if (!audioContext) audioContext = new (window.AudioContext || window.webkitAudioContext)();
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();

                oscillator.type = 'sine';
                oscillator.frequency.value = 800;
                gainNode.gain.setValueAtTime(0.5, audioContext.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.001, audioContext.currentTime + 0.1);

                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);
                oscillator.start(audioContext.currentTime);
                oscillator.stop(audioContext.currentTime + 0.1);
            }
            
            // Function to generate a simple "wrong" sound
            function createWrongSound() {
                if (!audioContext) audioContext = new (window.AudioContext || window.webkitAudioContext)();
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();

                oscillator.type = 'triangle';
                oscillator.frequency.value = 200;
                gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.001, audioContext.currentTime + 0.2);

                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);
                oscillator.start(audioContext.currentTime);
                oscillator.stop(audioContext.currentTime + 0.2);
            }

            // Function to draw the main game elements
            function draw() {
                // Clear the canvas
                ctx.clearRect(0, 0, canvas.width, canvas.height);

                if (currentSurah.name) {
                    // Draw the central "cute block" with the Surah name
                    const fontHeight = Math.min(canvas.width, canvas.height) * 0.05;
                    ctx.font = `bold ${fontHeight}px 'Inter', sans-serif`;
                    const textMetrics = ctx.measureText(currentSurah.name);
                    const textWidth = textMetrics.width;

                    const padding = canvas.width * 0.05;
                    const blockWidth = Math.max(textWidth + padding, canvas.width * 0.25);
                    const blockHeight = fontHeight * 2;
                    const blockX = (canvas.width - blockWidth) / 2;
                    const blockY = (canvas.height - blockHeight) / 2;
                    const cornerRadius = 20;

                    // Draw rounded rectangle
                    ctx.beginPath();
                    ctx.moveTo(blockX + cornerRadius, blockY);
                    ctx.lineTo(blockX + blockWidth - cornerRadius, blockY);
                    ctx.quadraticCurveTo(blockX + blockWidth, blockY, blockX + blockWidth, blockY + cornerRadius);
                    ctx.lineTo(blockX + blockWidth, blockY + blockHeight - cornerRadius);
                    ctx.quadraticCurveTo(blockX + blockWidth, blockY + blockHeight, blockX + blockWidth - cornerRadius, blockY + blockHeight);
                    ctx.lineTo(blockX + cornerRadius, blockY + blockHeight);
                    ctx.quadraticCurveTo(blockX, blockY + blockHeight, blockX, blockY + blockHeight - cornerRadius);
                    ctx.lineTo(blockX, blockY + cornerRadius);
                    ctx.quadraticCurveTo(blockX, blockY, blockX + cornerRadius, blockY);
                    ctx.closePath();

                    // Style the block
                    ctx.fillStyle = '#bbdefb'; /* Light blue block */
                    ctx.shadowColor = 'rgba(0, 0, 0, 0.2)';
                    ctx.shadowBlur = 15;
                    ctx.fill();
                    ctx.shadowBlur = 0;

                    // Draw the Surah text
                    ctx.fillStyle = '#1a237e'; /* Dark blue text */
                    ctx.textAlign = 'center';
                    ctx.textBaseline = 'middle';
                    ctx.fillText(currentSurah.name, canvas.width / 2, canvas.height / 2);
                }

                // Draw and update bubbles
                for (const bubble of bubbles) {
                    bubble.draw();
                }

                // Draw and update particles
                for (let i = particles.length - 1; i >= 0; i--) {
                    particles[i].update();
                    particles[i].draw();
                    if (particles[i].alpha <= 0) {
                        particles.splice(i, 1);
                    }
                }
            }

            // Main game update loop
            function update() {
                // Update bubbles' positions
                for (const bubble of bubbles) {
                    bubble.update();
                }
            }

            // The main animation loop
            function gameLoop() {
                if (isPaused) return;
                update();
                draw();
                gameAnimationFrameId = requestAnimationFrame(gameLoop);
            }
            
            // Function to start the next surah within a level
            function nextSurah() {
                if (currentLevelIndex >= currentSurahSet.length) {
                    let levelNumber = allSurahLevels.indexOf(currentSurahSet) + 1;
                    const nextLevelSet = allSurahLevels[levelNumber];
                    
                    const buttonConfig = [
                        { text: `Replay Level ${levelNumber}`, action: () => startGame(currentSurahSet, 0) }
                    ];

                    // Check if this is the final level (Level 10)
                    if (levelNumber === allSurahLevels.length) {
                        showMessage('Congratulations!', "You have mastered all 114 Surahs of the Quran! What a great accomplishment!", [
                            { text: 'Play Again from Level 1', action: () => startGame(surahsLevel1, 0) },
                            { text: 'Back to Menu', action: showLevelSelection }
                        ]);
                        return; // Exit here as the game is complete
                    }
                    
                    if (nextLevelSet) {
                         buttonConfig.push({ text: `Go to Level ${levelNumber + 1}`, action: () => startGame(nextLevelSet, 0) });
                    }
                    buttonConfig.push({ text: 'Back to Menu', action: showLevelSelection });

                    showMessage(`Level ${levelNumber} Complete!`, "You've successfully learned this set of Surahs!", buttonConfig);
                    return;
                }
                
                currentSurah = currentSurahSet[currentLevelIndex];
                bubbles = [];

                const correctNumber = currentSurah.number;
                let numbers = [correctNumber]; // Start with the correct answer

                // Determine the full range of possible numbers for this level set
                const surahNumbersInLevel = currentSurahSet.map(s => s.number);
                const minNumber = surahNumbersInLevel[0];
                const maxNumber = surahNumbersInLevel[surahNumbersInLevel.length - 1];

                // Create a pool of all possible numbers in the level's range, excluding the correct number
                let distractorPool = [];
                for (let i = minNumber; i <= maxNumber; i++) {
                    if (i !== correctNumber) {
                        distractorPool.push(i);
                    }
                }

                // Shuffle the distractor pool
                for (let i = distractorPool.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [distractorPool[i], distractorPool[j]] = [distractorPool[j], distractorPool[i]];
                }

                // Select up to 9 unique distractors to maintain 10 bubbles total
                const distractors = distractorPool.slice(0, 9);
                numbers.push(...distractors);

                // Shuffle the final list of up to 10 numbers for bubble placement
                for (let i = numbers.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [numbers[i], numbers[j]] = [numbers[j], numbers[i]];
                }
                
                const bubbleRadius = Math.min(canvas.width, canvas.height) * 0.07;
                const bubbleColors = ['#ffab91', '#80cbc4', '#aed581', '#ffcdd2', '#c5e1a5', '#b39ddb', '#4db6ac'];
                for (let i = 0; i < numbers.length; i++) {
                    const number = numbers[i];
                    // Ensure bubbles start within the canvas boundaries
                    const x = Math.random() * (canvas.width - 2 * bubbleRadius) + bubbleRadius;
                    const y = Math.random() * (canvas.height - 2 * bubbleRadius) + bubbleRadius;
                    const color = bubbleColors[i % bubbleColors.length];
                    bubbles.push(new Bubble(x, y, bubbleRadius, number, color));
                }

                isPaused = false;
            }

            // Function to get the correct coordinates from a mouse or touch event
            function getCoords(event) {
                const rect = canvas.getBoundingClientRect();
                if (event.touches) {
                    return {
                        x: event.touches[0].clientX - rect.left,
                        y: event.touches[0].clientY - rect.top
                    };
                }
                return {
                    x: event.clientX - rect.left,
                    y: event.clientY - rect.top
                };
            }

            // Handle input (mouse click or touch)
            function handleInput(event) {
                if (isPaused) return;
                
                if (event.type === 'touchstart') {
                    event.preventDefault();
                }

                const coords = getCoords(event);
                const mouseX = coords.x;
                const mouseY = coords.y;

                for (const bubble of bubbles) {
                    // Check if click is inside the bubble, plus a little padding for easier tapping
                    const distance = Math.sqrt((mouseX - bubble.x) ** 2 + (mouseY - bubble.y) ** 2);
                    if (distance < bubble.radius + 10) { 
                        if (bubble.number === currentSurah.number) {
                            createPopSound();
                            // Create explosion particles
                            for (let i = 0; i < 50; i++) {
                                particles.push(new Particle(bubble.x, bubble.y));
                            }
                            
                            currentLevelIndex++;
                            // Delay slightly before loading next surah
                            setTimeout(nextSurah, 500);
                        } else {
                            createWrongSound();
                        }
                        return;
                    }
                }
            }

            canvas.addEventListener('click', handleInput);
            canvas.addEventListener('touchstart', handleInput);

            // Handle window resize for responsiveness
            function resizeCanvas() {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
                draw();
            }

            // Function to start the game with a specific surah set and starting index
            function startGame(surahSet, startIndex) {
                hideMessage();
                resizeCanvas();
                currentSurahSet = surahSet;
                currentLevelIndex = startIndex;
                nextSurah();
                gameLoop();
            }

            // Function to show the level selection menu
            function showLevelSelection() {
                // --- UPDATED BUTTON CONFIG TO INCLUDE ALL 10 LEVELS ---
                const buttons = [
                    { text: 'Level 1 (1-10)', action: () => startGame(surahsLevel1, 0) },
                    { text: 'Level 2 (11-20)', action: () => startGame(surahsLevel2, 0) },
                    { text: 'Level 3 (21-30)', action: () => startGame(surahsLevel3, 0) },
                    { text: 'Level 4 (31-40)', action: () => startGame(surahsLevel4, 0) },
                    { text: 'Level 5 (41-50)', action: () => startGame(surahsLevel5, 0) },
                    { text: 'Level 6 (51-60)', action: () => startGame(surahsLevel6, 0) },
                    { text: 'Level 7 (61-70)', action: () => startGame(surahsLevel7, 0) },
                    { text: 'Level 8 (71-80)', action: () => startGame(surahsLevel8, 0) },
                    { text: 'Level 9 (81-90)', action: () => startGame(surahsLevel9, 0) },
                    { text: 'Level 10 (91-114)', action: () => startGame(surahsLevel10, 0) }
                ];
                // --------------------------------------------------
                showMessage('Welcome to Surah Super Bubble!', 'Your goal is to click on the number that corresponds to the Surah\'s order in the Quran. Select a level to begin.', buttons);
            }

            // Show a pause menu when the pause button is clicked
            pauseBtn.addEventListener('click', () => {
                const buttons = [
                    { text: 'Keep Playing', action: hideMessage },
                    { text: 'Back to Menu', action: showLevelSelection }
                ];
                showMessage('Game Paused', 'What would you like to do?', buttons);
            });

            // Initial call to show the level selection menu
            showLevelSelection();
            
            window.addEventListener('resize', resizeCanvas);
        };
    </script>
</body>
</html>
